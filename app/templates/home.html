<ion-view title="Home">
    <!-- Menu button -->
    <ion-nav-buttons side="left">
        <button menu-toggle="left" class="button button-icon icon ion-navicon"></button>
    </ion-nav-buttons>

    <!--commenting this temporarily as it breaks the page
        <ion-scroll zooming="false" direction="y">
    -->

    <!--Include sub header
        this only appears here, why not directly on the page?
    -->

    <div ng-include="'templates/subheader.html'"></div>

        <ion-list class="list has-header">

            <!-- List all categories -->
            <div ng-repeat="category in categories">
                <ion-item class="item item-divider">
                    <span>{{ category.title }}</span>
                </ion-item>

                <!--List all dishes within the category
                    Link to the single page route (app.single)
                    Passing the title as ID
                    Dashify will transform the title to replace
                    spaces with dashes (e.g. /dishes/sausage-with-mash/
                -->
                <a ng-repeat="dish in category.dishes" class="item" ui-sref="app.single({ title: (dish.title | dashify)})" href="#">
                <img class="dish-thumb pull-left" ng-src="http://lorempixel.com/60/60/food?v={{ $index }}">

                <div class="dish-item">
                    <h2 class="pull-left">{{ dish.title }}</h2>
                    <i class="icon ion-ios7-heart-outline pull-right"></i>
                    <em class="pull-left ellipsis">{{ dish.description }}</em>
                </div>
                <rating class="pull-left star-rating" readonly="true" ng-model="dish.averageRating" max="5"></rating>
            </a>
        </div>
    </ion-list>
    
    <!--Include footer-->
    <div ng-include="'templates/footer.html'"></div>

<!--</ion-scroll>-->
</ion-view>